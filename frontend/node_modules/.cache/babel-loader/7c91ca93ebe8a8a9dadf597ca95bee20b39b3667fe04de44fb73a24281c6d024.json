{"ast":null,"code":"var _jsxFileName = \"/Users/ashi/Documents/PRR Agent/frontend/src/components/SystemAnalysis.js\",\n  _s = $RefreshSig$();\n// src/components/SystemAnalysis.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Box, Button, CircularProgress, Typography, Divider, Paper, List, ListItem, ListItemIcon, ListItemText, Grid, Chip, Alert, Snackbar } from '@mui/material';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport DoneIcon from '@mui/icons-material/Done';\nimport SystemSecurityUpdateGoodIcon from '@mui/icons-material/SystemSecurityUpdateGood';\nimport StorageIcon from '@mui/icons-material/Storage';\nimport SettingsEthernetIcon from '@mui/icons-material/SettingsEthernet';\nimport ApiIcon from '@mui/icons-material/Api';\nimport LanguageIcon from '@mui/icons-material/Language';\nimport WarningIcon from '@mui/icons-material/Warning';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst getIconForType = type => {\n  switch (type) {\n    case 'ui':\n      return /*#__PURE__*/_jsxDEV(SystemSecurityUpdateGoodIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 14\n      }, this);\n    case 'database':\n      return /*#__PURE__*/_jsxDEV(StorageIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 14\n      }, this);\n    case 'api':\n      return /*#__PURE__*/_jsxDEV(ApiIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 14\n      }, this);\n    case 'service':\n      return /*#__PURE__*/_jsxDEV(SettingsEthernetIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 14\n      }, this);\n    case 'external':\n      return /*#__PURE__*/_jsxDEV(LanguageIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 14\n      }, this);\n    default:\n      return /*#__PURE__*/_jsxDEV(SystemSecurityUpdateGoodIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 14\n      }, this);\n  }\n};\nconst SystemAnalysis = ({\n  file,\n  metadata,\n  onAnalysisComplete,\n  onBack\n}) => {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [analysis, setAnalysis] = useState(null);\n  const [error, setError] = useState(null);\n  const [showError, setShowError] = useState(false);\n  useEffect(() => {\n    const analyzeSystem = async () => {\n      try {\n        setLoading(true);\n        console.log(\"Analyzing system with fileId:\", file.id);\n        console.log(\"Metadata:\", metadata);\n\n        // Make API call to analyze the system\n        const response = await axios.post('http://localhost:8000/api/analyze-system', {\n          fileId: file.id,\n          metadata: metadata\n        });\n        console.log(\"Analysis response:\", response.data);\n        if (response.data.error) {\n          throw new Error(response.data.error);\n        }\n        setAnalysis(response.data.result);\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Error analyzing system:\", err);\n        setError(err.message || 'Failed to analyze system architecture. Please try again.');\n        setShowError(true);\n        setLoading(false);\n\n        // For demo purposes, if the API fails, use mock data\n        // In production, you'd want to handle this differently\n        setAnalysis(mockSystemAnalysis());\n      }\n    };\n    analyzeSystem();\n  }, [file, metadata]);\n  const handleContinue = () => {\n    onAnalysisComplete(analysis);\n  };\n\n  // Mock data as fallback if API fails\n  const mockSystemAnalysis = () => {\n    console.warn(\"Using mock system analysis data due to API failure\");\n    return {\n      components: [{\n        name: 'Frontend Web App',\n        type: 'ui',\n        description: 'React-based user interface',\n        technologies: ['React', 'Material UI']\n      }, {\n        name: 'API Gateway',\n        type: 'api',\n        description: 'RESTful API gateway',\n        technologies: ['Express.js', 'Node.js']\n      }, {\n        name: 'Authentication Service',\n        type: 'service',\n        description: 'User authentication and authorization',\n        technologies: ['OAuth 2.0', 'JWT']\n      }, {\n        name: 'Product Service',\n        type: 'service',\n        description: 'Core product management',\n        technologies: ['Java', 'Spring Boot']\n      }, {\n        name: 'Inventory Service',\n        type: 'service',\n        description: 'Inventory tracking and management',\n        technologies: ['Java', 'Spring Boot']\n      }, {\n        name: 'User Database',\n        type: 'database',\n        description: 'User data storage',\n        technologies: ['PostgreSQL']\n      }, {\n        name: 'Product Database',\n        type: 'database',\n        description: 'Product catalog storage',\n        technologies: ['MongoDB']\n      }, {\n        name: 'CDN',\n        type: 'external',\n        description: 'Content delivery network',\n        technologies: ['Cloudflare']\n      }],\n      dependencies: [{\n        source: 'Frontend Web App',\n        target: 'API Gateway',\n        type: 'REST'\n      }, {\n        source: 'API Gateway',\n        target: 'Authentication Service',\n        type: 'REST'\n      }, {\n        source: 'API Gateway',\n        target: 'Product Service',\n        type: 'REST'\n      }, {\n        source: 'API Gateway',\n        target: 'Inventory Service',\n        type: 'REST'\n      }, {\n        source: 'Authentication Service',\n        target: 'User Database',\n        type: 'Database'\n      }, {\n        source: 'Product Service',\n        target: 'Product Database',\n        type: 'Database'\n      }, {\n        source: 'Inventory Service',\n        target: 'Product Database',\n        type: 'Database'\n      }, {\n        source: 'Frontend Web App',\n        target: 'CDN',\n        type: 'External'\n      }],\n      criticalPaths: [['Frontend Web App', 'API Gateway', 'Authentication Service', 'User Database'], ['Frontend Web App', 'API Gateway', 'Product Service', 'Product Database']],\n      singlePointsOfFailure: [{\n        name: 'API Gateway',\n        impact: 'All services become inaccessible'\n      }, {\n        name: 'Product Database',\n        impact: 'Product and inventory data unavailable'\n      }],\n      recommendations: ['Implement API Gateway redundancy across multiple availability zones', 'Set up database replication for Product Database', 'Add circuit breakers between API Gateway and backend services', 'Implement frontend caching strategy for product data'],\n      availabilityTier: 'tier2',\n      tierJustification: 'The system has indirect revenue impact with customer-facing components. Backend service redundancy is limited, and there are identified single points of failure. Recommended availability target: 99.9%.'\n    };\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        py: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 60,\n        thickness: 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        sx: {\n          mt: 2\n        },\n        children: \"Analyzing System Architecture...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        sx: {\n          mt: 1\n        },\n        children: \"This may take a few moments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      open: showError,\n      autoHideDuration: 6000,\n      onClose: () => setShowError(false),\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        onClose: () => setShowError(false),\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"System Architecture Analysis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      paragraph: true,\n      children: [\"Project: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: metadata.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 18\n      }, this), \" \\u2022 Business Impact: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: metadata.businessImpact.charAt(0).toUpperCase() + metadata.businessImpact.slice(1)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 70\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 2,\n          sx: {\n            p: 2,\n            height: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            fontWeight: \"bold\",\n            gutterBottom: true,\n            children: \"System Components\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            dense: true,\n            children: analysis.components.map((component, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n              children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                children: getIconForType(component.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: component.name,\n                secondary: /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [component.description, /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      mt: 0.5\n                    },\n                    children: component.technologies.map((tech, i) => /*#__PURE__*/_jsxDEV(Chip, {\n                      label: tech,\n                      size: \"small\",\n                      variant: \"outlined\",\n                      sx: {\n                        mr: 0.5,\n                        mb: 0.5\n                      }\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 2,\n          sx: {\n            p: 2,\n            height: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            fontWeight: \"bold\",\n            gutterBottom: true,\n            children: \"Dependencies & Critical Paths\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            gutterBottom: true,\n            children: \"Dependencies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            dense: true,\n            sx: {\n              mb: 2\n            },\n            children: analysis.dependencies.map((dep, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n              children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: `${dep.source} → ${dep.target}`,\n                secondary: `Type: ${dep.type}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              my: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            gutterBottom: true,\n            children: \"Critical Paths\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            dense: true,\n            children: analysis.criticalPaths.map((path, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n              children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: `Path ${index + 1}`,\n                secondary: path.join(' → ')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 2,\n          sx: {\n            p: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            fontWeight: \"bold\",\n            gutterBottom: true,\n            children: \"Identified Risks & Recommendations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            gutterBottom: true,\n            children: \"Single Points of Failure\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            dense: true,\n            sx: {\n              mb: 2\n            },\n            children: analysis.singlePointsOfFailure.map((spof, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n              children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                children: /*#__PURE__*/_jsxDEV(WarningIcon, {\n                  color: \"warning\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: spof.name,\n                secondary: `Impact: ${spof.impact}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              my: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            gutterBottom: true,\n            children: \"Recommendations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            dense: true,\n            children: analysis.recommendations.map((rec, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n              children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                children: /*#__PURE__*/_jsxDEV(DoneIcon, {\n                  color: \"success\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: rec\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 2,\n          sx: {\n            p: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            fontWeight: \"bold\",\n            gutterBottom: true,\n            children: \"Availability Classification\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              mb: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              sx: {\n                mr: 1\n              },\n              children: \"Recommended Tier:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              label: `Tier ${analysis.availabilityTier.charAt(4)} (99.9% Availability Target)`,\n              color: \"primary\",\n              variant: \"filled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: analysis.tierJustification\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 3,\n        display: 'flex',\n        justifyContent: 'space-between'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 22\n        }, this),\n        onClick: onBack,\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: handleContinue,\n        children: \"Continue to Destructive Testing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n};\n_s(SystemAnalysis, \"gICBjR8DdFK7mq0Jw6CDpHUOlgY=\");\n_c = SystemAnalysis;\nexport default SystemAnalysis;\nvar _c;\n$RefreshReg$(_c, \"SystemAnalysis\");","map":{"version":3,"names":["React","useState","useEffect","axios","Box","Button","CircularProgress","Typography","Divider","Paper","List","ListItem","ListItemIcon","ListItemText","Grid","Chip","Alert","Snackbar","ArrowBackIcon","DoneIcon","SystemSecurityUpdateGoodIcon","StorageIcon","SettingsEthernetIcon","ApiIcon","LanguageIcon","WarningIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","getIconForType","type","fileName","_jsxFileName","lineNumber","columnNumber","SystemAnalysis","file","metadata","onAnalysisComplete","onBack","_s","loading","setLoading","analysis","setAnalysis","error","setError","showError","setShowError","analyzeSystem","console","log","id","response","post","fileId","data","Error","result","err","message","mockSystemAnalysis","handleContinue","warn","components","name","description","technologies","dependencies","source","target","criticalPaths","singlePointsOfFailure","impact","recommendations","availabilityTier","tierJustification","sx","display","flexDirection","alignItems","py","children","size","thickness","variant","mt","color","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","gutterBottom","paragraph","businessImpact","charAt","toUpperCase","slice","container","spacing","item","xs","md","elevation","p","height","fontWeight","dense","map","component","index","primary","secondary","tech","i","label","mr","mb","dep","my","path","join","spof","rec","justifyContent","startIcon","onClick","_c","$RefreshReg$"],"sources":["/Users/ashi/Documents/PRR Agent/frontend/src/components/SystemAnalysis.js"],"sourcesContent":["// src/components/SystemAnalysis.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  Typography,\n  Divider,\n  Paper,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Grid,\n  Chip,\n  Alert,\n  Snackbar\n} from '@mui/material';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport DoneIcon from '@mui/icons-material/Done';\nimport SystemSecurityUpdateGoodIcon from '@mui/icons-material/SystemSecurityUpdateGood';\nimport StorageIcon from '@mui/icons-material/Storage';\nimport SettingsEthernetIcon from '@mui/icons-material/SettingsEthernet';\nimport ApiIcon from '@mui/icons-material/Api';\nimport LanguageIcon from '@mui/icons-material/Language';\nimport WarningIcon from '@mui/icons-material/Warning';\n\nconst getIconForType = (type) => {\n  switch (type) {\n    case 'ui':\n      return <SystemSecurityUpdateGoodIcon />;\n    case 'database':\n      return <StorageIcon />;\n    case 'api':\n      return <ApiIcon />;\n    case 'service':\n      return <SettingsEthernetIcon />;\n    case 'external':\n      return <LanguageIcon />;\n    default:\n      return <SystemSecurityUpdateGoodIcon />;\n  }\n};\n\nconst SystemAnalysis = ({ file, metadata, onAnalysisComplete, onBack }) => {\n  const [loading, setLoading] = useState(true);\n  const [analysis, setAnalysis] = useState(null);\n  const [error, setError] = useState(null);\n  const [showError, setShowError] = useState(false);\n\n  useEffect(() => {\n    const analyzeSystem = async () => {\n      try {\n        setLoading(true);\n        console.log(\"Analyzing system with fileId:\", file.id);\n        console.log(\"Metadata:\", metadata);\n        \n        // Make API call to analyze the system\n        const response = await axios.post('http://localhost:8000/api/analyze-system', {\n          fileId: file.id,\n          metadata: metadata\n        });\n        \n        console.log(\"Analysis response:\", response.data);\n        \n        if (response.data.error) {\n          throw new Error(response.data.error);\n        }\n        \n        setAnalysis(response.data.result);\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Error analyzing system:\", err);\n        setError(err.message || 'Failed to analyze system architecture. Please try again.');\n        setShowError(true);\n        setLoading(false);\n        \n        // For demo purposes, if the API fails, use mock data\n        // In production, you'd want to handle this differently\n        setAnalysis(mockSystemAnalysis());\n      }\n    };\n\n    analyzeSystem();\n  }, [file, metadata]);\n\n  const handleContinue = () => {\n    onAnalysisComplete(analysis);\n  };\n\n  // Mock data as fallback if API fails\n  const mockSystemAnalysis = () => {\n    console.warn(\"Using mock system analysis data due to API failure\");\n    return {\n      components: [\n        { name: 'Frontend Web App', type: 'ui', description: 'React-based user interface', technologies: ['React', 'Material UI'] },\n        { name: 'API Gateway', type: 'api', description: 'RESTful API gateway', technologies: ['Express.js', 'Node.js'] },\n        { name: 'Authentication Service', type: 'service', description: 'User authentication and authorization', technologies: ['OAuth 2.0', 'JWT'] },\n        { name: 'Product Service', type: 'service', description: 'Core product management', technologies: ['Java', 'Spring Boot'] },\n        { name: 'Inventory Service', type: 'service', description: 'Inventory tracking and management', technologies: ['Java', 'Spring Boot'] },\n        { name: 'User Database', type: 'database', description: 'User data storage', technologies: ['PostgreSQL'] },\n        { name: 'Product Database', type: 'database', description: 'Product catalog storage', technologies: ['MongoDB'] },\n        { name: 'CDN', type: 'external', description: 'Content delivery network', technologies: ['Cloudflare'] },\n      ],\n      dependencies: [\n        { source: 'Frontend Web App', target: 'API Gateway', type: 'REST' },\n        { source: 'API Gateway', target: 'Authentication Service', type: 'REST' },\n        { source: 'API Gateway', target: 'Product Service', type: 'REST' },\n        { source: 'API Gateway', target: 'Inventory Service', type: 'REST' },\n        { source: 'Authentication Service', target: 'User Database', type: 'Database' },\n        { source: 'Product Service', target: 'Product Database', type: 'Database' },\n        { source: 'Inventory Service', target: 'Product Database', type: 'Database' },\n        { source: 'Frontend Web App', target: 'CDN', type: 'External' },\n      ],\n      criticalPaths: [\n        ['Frontend Web App', 'API Gateway', 'Authentication Service', 'User Database'],\n        ['Frontend Web App', 'API Gateway', 'Product Service', 'Product Database'],\n      ],\n      singlePointsOfFailure: [\n        { name: 'API Gateway', impact: 'All services become inaccessible' },\n        { name: 'Product Database', impact: 'Product and inventory data unavailable' }\n      ],\n      recommendations: [\n        'Implement API Gateway redundancy across multiple availability zones',\n        'Set up database replication for Product Database',\n        'Add circuit breakers between API Gateway and backend services',\n        'Implement frontend caching strategy for product data'\n      ],\n      availabilityTier: 'tier2',\n      tierJustification: 'The system has indirect revenue impact with customer-facing components. Backend service redundancy is limited, and there are identified single points of failure. Recommended availability target: 99.9%.'\n    };\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', py: 4 }}>\n        <CircularProgress size={60} thickness={4} />\n        <Typography variant=\"h6\" sx={{ mt: 2 }}>\n          Analyzing System Architecture...\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n          This may take a few moments\n        </Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <Box>\n      <Snackbar \n        open={showError} \n        autoHideDuration={6000} \n        onClose={() => setShowError(false)}\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      >\n        <Alert severity=\"error\" onClose={() => setShowError(false)}>\n          {error}\n        </Alert>\n      </Snackbar>\n      \n      <Typography variant=\"h6\" gutterBottom>\n        System Architecture Analysis\n      </Typography>\n      \n      <Typography variant=\"body1\" paragraph>\n        Project: <strong>{metadata.name}</strong> • Business Impact: <strong>{metadata.businessImpact.charAt(0).toUpperCase() + metadata.businessImpact.slice(1)}</strong>\n      </Typography>\n      \n      <Grid container spacing={3}>\n        {/* Components Section */}\n        <Grid item xs={12} md={6}>\n          <Paper elevation={2} sx={{ p: 2, height: '100%' }}>\n            <Typography variant=\"subtitle1\" fontWeight=\"bold\" gutterBottom>\n              System Components\n            </Typography>\n            <List dense>\n              {analysis.components.map((component, index) => (\n                <ListItem key={index}>\n                  <ListItemIcon>\n                    {getIconForType(component.type)}\n                  </ListItemIcon>\n                  <ListItemText \n                    primary={component.name} \n                    secondary={\n                      <>\n                        {component.description}\n                        <Box sx={{ mt: 0.5 }}>\n                          {component.technologies.map((tech, i) => (\n                            <Chip \n                              key={i} \n                              label={tech} \n                              size=\"small\" \n                              variant=\"outlined\" \n                              sx={{ mr: 0.5, mb: 0.5 }} \n                            />\n                          ))}\n                        </Box>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            </List>\n          </Paper>\n        </Grid>\n        \n        {/* Dependencies and Critical Paths */}\n        <Grid item xs={12} md={6}>\n          <Paper elevation={2} sx={{ p: 2, height: '100%' }}>\n            <Typography variant=\"subtitle1\" fontWeight=\"bold\" gutterBottom>\n              Dependencies & Critical Paths\n            </Typography>\n            \n            <Typography variant=\"subtitle2\" gutterBottom>\n              Dependencies\n            </Typography>\n            <List dense sx={{ mb: 2 }}>\n              {analysis.dependencies.map((dep, index) => (\n                <ListItem key={index}>\n                  <ListItemText \n                    primary={`${dep.source} → ${dep.target}`} \n                    secondary={`Type: ${dep.type}`} \n                  />\n                </ListItem>\n              ))}\n            </List>\n            \n            <Divider sx={{ my: 2 }} />\n            \n            <Typography variant=\"subtitle2\" gutterBottom>\n              Critical Paths\n            </Typography>\n            <List dense>\n              {analysis.criticalPaths.map((path, index) => (\n                <ListItem key={index}>\n                  <ListItemText \n                    primary={`Path ${index + 1}`} \n                    secondary={path.join(' → ')} \n                  />\n                </ListItem>\n              ))}\n            </List>\n          </Paper>\n        </Grid>\n        \n        {/* SPOFs and Recommendations */}\n        <Grid item xs={12}>\n          <Paper elevation={2} sx={{ p: 2 }}>\n            <Typography variant=\"subtitle1\" fontWeight=\"bold\" gutterBottom>\n              Identified Risks & Recommendations\n            </Typography>\n            \n            <Typography variant=\"subtitle2\" gutterBottom>\n              Single Points of Failure\n            </Typography>\n            <List dense sx={{ mb: 2 }}>\n              {analysis.singlePointsOfFailure.map((spof, index) => (\n                <ListItem key={index}>\n                  <ListItemIcon>\n                    <WarningIcon color=\"warning\" />\n                  </ListItemIcon>\n                  <ListItemText \n                    primary={spof.name} \n                    secondary={`Impact: ${spof.impact}`} \n                  />\n                </ListItem>\n              ))}\n            </List>\n            \n            <Divider sx={{ my: 2 }} />\n            \n            <Typography variant=\"subtitle2\" gutterBottom>\n              Recommendations\n            </Typography>\n            <List dense>\n              {analysis.recommendations.map((rec, index) => (\n                <ListItem key={index}>\n                  <ListItemIcon>\n                    <DoneIcon color=\"success\" />\n                  </ListItemIcon>\n                  <ListItemText primary={rec} />\n                </ListItem>\n              ))}\n            </List>\n          </Paper>\n        </Grid>\n        \n        {/* Availability Tier */}\n        <Grid item xs={12}>\n          <Paper elevation={2} sx={{ p: 2 }}>\n            <Typography variant=\"subtitle1\" fontWeight=\"bold\" gutterBottom>\n              Availability Classification\n            </Typography>\n            \n            <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n              <Typography variant=\"subtitle2\" sx={{ mr: 1 }}>\n                Recommended Tier:\n              </Typography>\n              <Chip \n                label={`Tier ${analysis.availabilityTier.charAt(4)} (99.9% Availability Target)`} \n                color=\"primary\" \n                variant=\"filled\" \n              />\n            </Box>\n            \n            <Typography variant=\"body2\">\n              {analysis.tierJustification}\n            </Typography>\n          </Paper>\n        </Grid>\n      </Grid>\n      \n      <Box sx={{ mt: 3, display: 'flex', justifyContent: 'space-between' }}>\n        <Button \n          startIcon={<ArrowBackIcon />} \n          onClick={onBack}\n        >\n          Back\n        </Button>\n        <Button \n          variant=\"contained\" \n          color=\"primary\"\n          onClick={handleContinue}\n        >\n          Continue to Destructive Testing\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n\nexport default SystemAnalysis;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}